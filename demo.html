<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>stream.js</title>
  </head>

  <body>
    <script src="stream.js"></script>
    <script>
      var a = new Stream.EventStream();
      var b = new Stream.EventStream();
      var c = a.merge(b);
      c.subscribe(function(value) {
        console.log(value);
      });
      b.publish('b');
      a.publish('a');

      var d = new Stream.EventStream();
      d.scan(0, function(currentValue, newValue) {
        return currentValue + newValue;
      }).subscribe(function(value) {
        console.log(value);
      });
      d.publish(1);
      d.publish(2);
      d.publish(3);

      var e = new Stream.EventStream();
      e.filter(function(value) {
        return value >= 0;
      }).subscribe(function(value) {
        console.log(value);
      });
      e.publish(1);
      e.publish(-2);
      e.publish(3);
    </script>
  </body>
</html>
